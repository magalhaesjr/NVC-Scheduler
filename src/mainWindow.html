<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Security-Policy" content="default-src file: 'unsafe-inline';">
  <title>Scheduler Window</title>
  <link rel="stylesheet" type="text/css" href="./scheduler.css">
  <link rel="import" href="./calendarTemplate.html" id="calendarTemplate">
  <link rel="stylesheet" type="text/css" href="./calendar.css">
</head>
<body>
  <h1>NVC Scheduler</h1>
  <!--Script which will handle all of the actual functionality for this window-->
  <script type = "module" src = "./scheduler.js">
    //require('./scheduler.js');
  </script>
  <form id="scheduleForm" action="JavaScript:outputSchedule()">
    <div id="formDiv" class="formPanel" hide=true>

      <!-- These are the actual input buttons for the steps in the process-->
      <input id="one" type="radio" name="stage" checked="checked"/>
  	  <input id="two" type="radio" name="stage"/>
    	<input id="three" type="radio" name="stage"/>
    	<input id="four" type="radio" name="stage"/>
    	<input id="five" type="radio" name="stage"/>

      <!-- These are the number labels for the steps in the process -->
      <div class="stages" hide=true>
    		<label for="one" onclick="setChecked('one')">1</label>
    		<label for="two" onclick="setChecked('two')">2</label>
    		<label for="three" onclick="setChecked('three')">3</label>
    		<label for="four" onclick="setChecked('four')">4</label>
    		<label for="five" onclick="setChecked('five')">5</label>
    	</div>
      <span class="progress"><span></span></span>
      <br>
      <div align="center">
      <button class="transitionbutton" id="nextButton" onclick="nextStep()" type="button" form="scheduleForm">
        <span>Next</span>
      </button>
    </div>

      <!-- A panel for each step in the process. THe panels are made visible at
      the appropriate step-->
      <div class='panels'>
        <div class="stepPanel" id="form_step_1" data-panel="one"> </div>
        <div class="stepPanel" id="form_step_2" data-panel="two">
          <h2 text-align=center>Schedule Information</h2>
          <label for="start_date">Start Date</label>
          <input type="date" id='start_date' onchange="buildScheduleTable();initByeRequestTable();updateCalendarPreview();">
            <label for="start_court">First Court Number</label>
          <input type="number" id='start_court' min=1 max=24 value=1 onchange="buildScheduleTable();initByeRequestTable();">
          <h2 id="scheduleName" text-align="center"></h2>
          <div class="scheduleTable" id="schedule_preview"> </div>
          <div class="scheduleCalendar" id="schedule_date_preview"> </div>
        </div>
        <div class="stepPanel" id="form_step_3" data-panel="three">
          <h2 text-align="center">Team Information</h2>
          <table id="teamInfoTable">
            <thead>
              <tr>
                <td>Team Number </td>
                <td>Team Name</td>
                <td>Mapping Code</td>
              </tr>
            </thead>
            <tbody id="teamInfoBody"></tbody>
          </table>
          <div display="block">
          <button class="pushbutton" type="button" onclick="importTeamInfo()">Import</button>
        </div>
          <!-- Tables for teams are built dynamically -->
        </div>
        <div class="stepPanel" id="form_step_4" data-panel="four">
          <h2 text-align="center">Bye Requests</h2>
          <div id="teamPanel" display="block">
            <table id="teamTable">
              <thead>
                <tr>
                  <td>Team #</td>
                  <td>Team Name</td>
                <tr>
              </thead>
              <tbody id="teamTableBody"></tbody>
            </table>
          </div>
          <div id="byePanel">
            <table id=byeRequestTable>
              <thead id=byeRequestHeader></thead>
              <tbody id = byeRequestBody></tbody>
            </table>
            <br>
            <button class="pushbutton" type="button" onclick="assignTeamNumbers()">Assign Team Numbers</button>
          </div>
        </div>
          <!-- Bye requests are built dynamically as well -->
        <div class="stepPanel" id="form_step_5" data-panel="five">
          <h2 text-align="center">Final Preview</h2>
          <div class="scheduleTable" id="scheduleReviewTable"></div>
          <div id="scheduleReviewCalendar" class="scheduleCalendar"></div>
          <div id="scheduleNightPreview"></div>
        </div>
      </div>
    </div>
  </form>
</body>
</html>
